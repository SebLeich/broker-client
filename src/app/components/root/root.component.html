<app-navbar [isLoggedIn]="isLoggedIn" [username]="username" [canCreateServices]="canCreateServices"
    [canRegisterRoles]="canRegisterRoles" (loginDialogEmitter)="openLoginDialog()"
    (userDialogEmitter)="openUserDetailDialog()" (logoutEmitter)="logout()" (stateEmitter)="setState($event)">
</app-navbar>
<app-startpage *ngIf="state == 0" [isLoggedIn]="isLoggedIn" [canAdministrate]="canAdministrate"
    [canCreateServices]="canCreateServices" (logoutEmitter)="logout()" (stateEmitter)="setState($event)" (loginDialogEmitter)="openLoginDialog()"
    (registerDialogEmitter)="openRegisterDialog()" (userDialogEmitter)="openUserDetailDialog()"></app-startpage>
<app-project-description *ngIf="state == 2" (stateEmitter)="setState($event)"
    (titleAndDescriptionEmitter)="project.setTitleAndDescription($event)"></app-project-description>
<app-use-case-selection [useCases]=useCases *ngIf="state == 1" (searchEmitter)="sendSearch($event)">
</app-use-case-selection>
<app-detailview *ngIf="state == 4" [isLoggedIn]=isLoggedIn [services]=services [serviceCategories]=serviceCategories
    [serviceProviders]=serviceProviders></app-detailview>
<div *ngIf="state == 5">
    <app-administration *ngIf="canRegisterRoles; else noAccessRight" [currentUser]=username
        [canRegisterRoles]=canRegisterRoles [canEditSecurityGuidelines]=canEditSecurityGuidelines></app-administration>
</div>
<div *ngIf="state == 6">
    <app-add-service *ngIf="canCreateServices; else noAccessRight" [isLoggedIn]=isLoggedIn
        [serviceCategories]=serviceCategories [serviceProviders]=serviceProviders></app-add-service>
</div>
<div *ngIf="state == 7">
    <app-manage-services *ngIf="canCreateServices; else noAccessRight" [canDeleteServices]=canDeleteServices
        (serviceEmitter)=editService($event) (stateEmitter)="setState($event)"></app-manage-services>
</div>
<app-service-preview *ngIf="state == 10" [service]=currentService></app-service-preview>

<!-- HELPER AREAS -->
<div *ngIf="state == 8" class="load-placeholder">
    <mat-spinner diameter="100"></mat-spinner>
    <div class="loading-text">Loading</div>
</div>
<div *ngIf="state == 9" class="http-error">
    <div class="error-message">
        {{ errorMsg }}
    </div>
</div>
<ng-template #noAccessRight>
    <div>
        <div style="display: block; text-align: center; margin-top: 25vh;">
            <mat-icon style="font-size: 5rem; width: auto; height: auto; color: rgb(199, 36, 36);">lock</mat-icon>
        </div>
        <h1 style="text-align: center;">Gesch체tzter Bereich</h1>
        <div style="text-align: center; margin: 0 30vw; color: grey;">
            Dieser Bereich ist nur f체r Nutzer mit erweiterten Nutzungsrechten zug채nglich. Melden Sie sich an oder
            verwenden Sie einen anderen Account f체r die Nutzung.
        </div>
    </div>
</ng-template>